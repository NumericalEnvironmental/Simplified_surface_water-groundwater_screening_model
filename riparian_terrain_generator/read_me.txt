Riparian Terrain Generator

This simple program, written in D-language, generates a simulated branching riparian system using a random walk algorithm. Iâ€™ve used this code to posit simulated dry wash systems for my highly simplified groundwater-surface water model (https://numericalenvironmental.wordpress.com/2018/08/31/a-mixed-numerical-analytical-screening-model-for-groundwater-recharge-from-a-losing-stream/). A main stream and tributaries, organized into reaches, are drawn with varying slopes and stream widths. A minimum spacing of stream junctions and an alternating tributary direction generation scheme minimizes, but does not fully eliminate, the very infrequent problem of streams that cross one another. As such, results should be inspected before use in surface water models.

Next, once the stream network is in place, the terrain surrounding the river system is generated. This step is included simply to provide an aid in visualization. The surrounding spatial domain is subdivided into a series of progressively smaller quadrants, with corresponding elevations incrementally decreased if a portion of a stream passes through the quadrant. The effect is to produce the lowest elevations closest to the streams. However, a side effect is a very blocky look to the terrain, so a means to correct for this is to choose a random point or two from each zone with a uniform elevation, add some random noise to the point elevations, and then interpolate the resultant non-uniform distribution (e.g, by inverse distance weighting, kriging, etc.). This is a different approach from the classic diamond-square fractal terrain generator, which generates much more realistic looking mountainous terrain but does not necessarily produce continuous, sinuous river channels, at least not without additional processing.

Required text input files include the following:

* stream.txt - various stream properties and factors (described in comments under constructor for Stream class)
* terrain.txt - discretization constraints for surrounding terrain generator (see comments under constructor for Surface class)

I'd appreciate hearing back from you if you find the code useful. Questions or comments are welcome at walt.mcnab@gmail.com.
 
THIS CODE/SOFTWARE IS PROVIDED IN SOURCE OR BINARY FORM "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
